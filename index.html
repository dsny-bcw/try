<!DOCTYPE html>
<html lang="en">
  <head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
	     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
	     crossorigin=""/>
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
	     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
	     crossorigin=""></script>
    	<title>BCW Try</title>
    	<style>
		#map { height: 100%; }
	</style>
  </head>
  <body>
      	<div id="map"></div>
	<script src="dsnyPlannedCommercialWasteZones.js"></script>
	<script>
        	var map = L.map('map').setView([40.72215448921957, -73.98616799064006], 12);
		
		 
	 //Stamen
          var stamen = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.png', {
            attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});
    
          //OSM Layer
          var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
              attribution: '<a href="http://www.openstreetmap.org/copyright">Â© OpenStreetMap</a>'
          });
          
          //Stadia_AlidadeSmoothDark
          var Stadia_AlidadeSmoothDark = L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png', {
            maxZoom: 20,
            attribution: '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'
          });
          

          //Stadia_OSMBright
          var Stadia_OSMBright = L.tileLayer('https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png', {
            maxZoom: 20,
            attribution: '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'
          });
            

          //Stamen_Terrain
          var Stamen_Terrain = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}', {
            attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            subdomains: 'abcd',
            minZoom: 0,
            maxZoom: 18,
            ext: 'png'
          });
          

          //Esri_TopoMap
          var Esri_WorldTopoMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'
          });
          
          //Esri_WorldStreetMap
          var Esri_WorldStreetMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012'
          });

          //Google street
          googleHybrid = L.tileLayer('http://{s}.google.com/vt?lyrs=s,h&x={x}&y={y}&z={z}',{
            maxZoom: 20,
            subdomains:['mt0','mt1','mt2','mt3']
          }); 
          
          //Google satellite
          googleSat = L.tileLayer('http://{s}.google.com/vt?lyrs=s&x={x}&y={y}&z={z}',{
            maxZoom: 20,
            subdomains:['mt0','mt1','mt2','mt3']
          });
          
          //Google terrain
          googleTerrain = L.tileLayer('http://{s}.google.com/vt?lyrs=p&x={x}&y={y}&z={z}',{
            maxZoom: 20,
            subdomains:['mt0','mt1','mt2','mt3']
          });
          
          //Google street
          googleStreets = L.tileLayer('http://{s}.google.com/vt?lyrs=m&x={x}&y={y}&z={z}',{
            maxZoom: 20,
            subdomains:['mt0','mt1','mt2','mt3']
          });

	 //create basemap for layout option and control
          var baseMaps = {

            "<span class='left green-text text-darken-4 layersize'>Street</span>": googleStreets,
             "<span class='left green-text text-darken-4 layersize'>Google Satellite Map</span>": googleSat,
            "<span class='left green-text text-darken-4 layersize'>Satellite</span>": googleHybrid,
            "<span class='left green-text text-darken-4 layersize'>Google Terrain Map</span>": googleTerrain,
             "<span class='left green-text text-darken-4 layersize'>Esri Street Map</span>": Esri_WorldStreetMap,
             "<span class='left green-text text-darken-4 layersize'>Esri Topo Map</span>": Esri_WorldTopoMap,
             "<span class='left green-text text-darken-4 layersize'>Open Street Map</span>": osm,
             "<span class='left green-text text-darken-4 layersize'>Stamen Terrain Map</span>": Stamen_Terrain,
             "<span class='left green-text text-darken-4 layersize'>Stamen Street Map</span>": stamen,
             "<span class='green-text text-darken-4 layersize'>Bright View</span>": Stadia_OSMBright,
             "<span class='green-text text-darken-4 layersize'>Dark View</span>": Stadia_AlidadeSmoothDark
          };
	//setup control to show zone info on hover
          var info = L.control();
          info.setPosition('bottomleft');

          info.onAdd = function (map){
            this._div = L.DomUtil.create('div', 'info');
            this.update();
            return this._div;
          };
          

          info.update = function(props){
            var carters = 
            this._div.innerHTML = '<h4>Commercial Waste Zone</h4>' + (props ?
              '<b>' + props.zone : 'Hover over a zone');
          };


          

         
          //Add highlighted layout
          function highlightFeature(e) {
            var layer = e.target;

            layer.setStyle({
                weight: 1.2,
                dashArray: '',
                opacity: 0.8,
                fillOpacity: 0.4
            });

            if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                layer.bringToFront();
            };
            info.update(layer.feature.properties);
        }

        var zoneLayer;

        function resetHighlight(e) {
            zoneLayer.resetStyle(e.target);
        }

        function zoomToFeature(e) {
            map.fitBounds(e.target.getBounds());
        }

        function onEachFeature(feature, layer) {
            layer.on({
                mouseover: highlightFeature,
                mouseout: resetHighlight,
                click: zoomToFeature
            });
        }

        //set zone layout styles
        function zoneOptions(feature)  {

          var styles = {
                  weight: 1,
                  dashArray: '1',
                  opacity: 0.5,
                  fillOpacity: 0.3,
              };
          

             if (feature.properties.zone_name == 'Midtown South'){
                styles.fillColor = "#ff0000";
                styles.color = "#ff0000";
                return styles;
                
             } else if (feature.properties.zone_name == 'Bronx East'){
                styles.fillColor = "#00b386";
                styles.color = "#00b386";
                return styles;
                
             } else if (feature.properties.zone_name == 'Bronx West'){
                styles.fillColor = "#ffff99";
                styles.color = "#ffff99";
                return styles;
                
             } else if (feature.properties.zone_name == 'Upper Manhattan'){
                styles.fillColor = "#0099ff";
                styles.color = "#0099ff";
                return styles;
                
             } else if (feature.properties.zone_name == 'Manhattan Northeast'){
                styles.fillColor = "#ff9933";
                styles.color = "#ff9933";
                return styles;
                
             } else if (feature.properties.zone_name == 'Manhattan West'){
                styles.fillColor = "#00b386";
                styles.color = "#00b386";
                return styles;
                
             } else if (feature.properties.zone_name == 'Midtown North'){
                styles.fillColor = "#ffff99";
                styles.color = "#ffff99";
                return styles;
                
             } else if (feature.properties.zone_name == 'Manhattan Southwest'){
                styles.fillColor = "#000099";
                styles.color = "#000099";
                return styles;
                
             } else if (feature.properties.zone_name == 'Manhattan Southeast'){
                styles.fillColor = "#0099ff";
                styles.color = "#0099ff";
                return styles;
                
             } else if (feature.properties.zone_name == 'Lower Manhattan'){
                styles.fillColor = "#996633";
                styles.color = "#996633";
                return styles;
                
             } else if (feature.properties.zone_name == 'Queens West'){
                styles.fillColor = "#000099";
                styles.color = "#000099";
                return styles;
                
             } else if (feature.properties.zone_name == 'Queens West'){
                styles.fillColor = "#000099";
                styles.color = "#000099";
                return styles;
                
             } else if (feature.properties.zone_name == 'Queens Northeast'){
                styles.fillColor = "#ff0000";
                styles.color = "#ff0000";
                return styles;
                
             } else if (feature.properties.zone_name == 'Queens Central'){
                styles.fillColor = "#ff9933";
                styles.color = "#ff9933";
                return styles;
                
             } else if (feature.properties.zone_name == 'Brooklyn North'){
                styles.fillColor = "#ff0000";
                styles.color = "#ff0000";
                return styles;
                
             } else if (feature.properties.zone_name == 'Brooklyn West'){
                styles.fillColor = "#00b386";
                styles.color = "#00b386";
                return styles;
                
             } else if (feature.properties.zone_name == 'Brooklyn East'){
                styles.fillColor = "#0099ff";
                styles.color = "#0099ff";
                return styles;
                
             } else if (feature.properties.zone_name == 'Queens Southeast'){
                styles.fillColor = "#00b386";
                styles.color = "#00b386";
                return styles;
                
             } else if (feature.properties.zone_name == 'Brooklyn South'){
                styles.fillColor = "#ff9933";
                styles.color = "#ff9933";
                return styles;
                
             } else if (feature.properties.zone_name == 'Brooklyn Southwest'){
                styles.fillColor = "#ffff99";
                styles.color = "#ffff99";
                return styles;
                
             } else if (feature.properties.zone_name == 'Staten Island'){
                styles.fillColor = "#000099";
                styles.color = "#000099";
                return styles;
                
             } else {
                styles.fillColor = "#ff0000";
                styles.color = "#ff0000";
                return styles;
              }

            
          };

        //get zone layout data and styles
        zoneLayer = L.geoJson(zone, {style: zoneOptions,onEachFeature: onEachFeature});        

        //create layout control
        var overlayMaps = {
            "<span class='green-text text-darken-4 layersize'>CWZ Zones</span>": zoneLayer
        }


        
        //add default layout and map
        var layerControl = L.control.layers(baseMaps, overlayMaps,  {position: 'bottomright'}).addTo(map);
        googleStreets.addTo(map);
        map.addLayer(zoneLayer);
         info.addTo(map); 

        
         

	
    	</script>
  </body>
</html>
